/**
 * @license Copyright 2013 - 2014 Intel Corporation All Rights Reserved.
 *
 * The source code, information and material ("Material") contained herein is owned by Intel Corporation or its
 * suppliers or licensors, and title to such Material remains with Intel Corporation or its suppliers or
 * licensors. The Material contains proprietary information of Intel or its suppliers and licensors. The
 * Material is protected by worldwide copyright laws and treaty provisions. No part of the Material may be used,
 * copied, reproduced, modified, published, uploaded, posted, transmitted, distributed or disclosed in any way
 * without Intel's prior express written permission. No license under any patent, copyright or other intellectual
 * property rights in the Material is granted to or conferred upon you, either expressly, by implication,
 * inducement, estoppel or otherwise. Any license under such intellectual property rights must be express and
 * approved by Intel in writing.
 *
 * Unless otherwise agreed by Intel in writing, you may not remove or alter this notice or any other notice
 * embedded in Materials by Intel or Intel's suppliers or licensors in any way.
 */
function getOSTheme(userAgent){var iosRegex=/(iPhone\sOS)\s([\d_]+)/,ipadRegex=/(iPad).*OS\s([\d_]+)/;return userAgent.match(iosRegex)||userAgent.match(ipadRegex)?"ios7":"android light"}$.ui.autoLaunch=!1,$.feat.nativeTouchScroll=!0,$.ui.slideSideMenu=!0,$.ui.useOSThemes=!1,document.addEventListener("DOMContentLoaded",function(){setTimeout(function(){try{var path="../workbook/cell.css";void 0!==window&&void 0!==window.top.xdk&&(path="workbook/cell.css"),$("head").append($('<link rel="stylesheet" href="'+path+'">'))}catch(error){console.log("error injecting css file "+path)}},0),$.ui.launch()},!1),$.ui.ready(function(){var osTheme=getOSTheme(navigator.userAgent);$("#afui").addClass(osTheme),$.ui.disableSideMenu(),void 0===window._workbook&&(window._workbook=new idr.workbook.Workbook(new idr.workbook.Runtime),window._binder=new idr.core.DefaultBinder(window._workbook),idr.components.Component.Binder=window._binder),idr.components.FindInstance=function(instanceId){return _instances[instanceId]},__loadFromJSON=function(jsonData){__livePreview_loadBinder(jsonData.binder);try{window._workbook.loadFromJson(jsonData.workbook.model)}catch(e){console.log("error loading workbook - bad json")}var rawProgram=jsonData.program;idr.components.PageBase._startPage=rawProgram?rawProgram.startPage:"_notConfig";var storyboardData=jsonData.storyboard;storyboardData.forEach(function(instanceData){var instance=idr.components.ComponentBase.loadFromRawData(instanceData);instance.render(),this._instances[instance.Id]=instance}),idr.runtime.Page.showStartPageIfNeeded()},__pushStoryboardStateToRuntime=function(programDataStr){try{var rawProgram=JSON.parse(programDataStr),program=rawProgram.program;idr.components.PageBase._startPage=program?program.startPage:"_notConfig",storyboardData=rawProgram.storyboard,storyboardData.forEach(function(instanceData){var instance=idr.components.ComponentBase.loadFromRawData(instanceData);instance.render(),this._instances[instance.Id]=instance}),idr.runtime.Page.showStartPageIfNeeded()}catch(e){console.log("Error pushing Storyboard State: "+e.stack)}},void 0!==window&&void 0===window.top.xdk&&"undefined"!=typeof program&&__loadFromJSON(program)}),goog.require("idr.workbook.Workbook"),goog.require("idr.core.DefaultBinder"),goog.require("idr.components.Component"),goog.require("idr.runtime.Button"),goog.require("idr.runtime.List"),goog.require("idr.runtime.Media"),goog.require("idr.runtime.Menu"),goog.require("idr.runtime.MenuItem"),goog.require("idr.runtime.Page"),goog.require("idr.runtime.SingleContainer"),goog.require("idr.runtime.StackContainer"),goog.require("idr.runtime.Text"),goog.require("idr.runtime.Map"),goog.require("idr.runtime.InputField"),goog.require("idr.runtime.Chart"),goog.require("idr.runtime.RssFeed");var _instances={};