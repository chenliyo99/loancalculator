/**
 * @license Copyright 2013 - 2014 Intel Corporation All Rights Reserved.
 *
 * The source code, information and material ("Material") contained herein is owned by Intel Corporation or its
 * suppliers or licensors, and title to such Material remains with Intel Corporation or its suppliers or
 * licensors. The Material contains proprietary information of Intel or its suppliers and licensors. The
 * Material is protected by worldwide copyright laws and treaty provisions. No part of the Material may be used,
 * copied, reproduced, modified, published, uploaded, posted, transmitted, distributed or disclosed in any way
 * without Intel's prior express written permission. No license under any patent, copyright or other intellectual
 * property rights in the Material is granted to or conferred upon you, either expressly, by implication,
 * inducement, estoppel or otherwise. Any license under such intellectual property rights must be express and
 * approved by Intel in writing.
 *
 * Unless otherwise agreed by Intel in writing, you may not remove or alter this notice or any other notice
 * embedded in Materials by Intel or Intel's suppliers or licensors in any way.
 */
goog.provide("idr.components.MapBase"),goog.require("idr.components.ComponentBase"),goog.require("idr.components.MapController"),goog.require("idr.debug"),idr.components.MapBase=function(instanceId,data,parent){idr.components.ComponentBase.call(this,instanceId,data,parent),(void 0===data||null===data)&&(data={padding:"idr-map-padding-none",height:"",currentLocationEnabled:!1,copyValues:!1,popupTemplate:"title",dataSelectionRange:"",pointsData:null}),this._mapController=null,this._padding=data.padding,this._height=data.height,this._currentLocationEnabled=data.currentLocationEnabled,this._copyValues=data.copyValues,this._popupTemplate=data.popupTemplate,this._dataSelectionRange=data.dataSelectionRange,this._pointsData=data.pointsData,this._pointsDataRange=null,this._contentResize=null,this.Binder.bind(this,"padding"),this.Binder.bind(this,"currentLocationEnabled"),this.Binder.bind(this,"copyValues"),this.Binder.bind(this,"popupTemplate"),this.Binder.bind(this,"dataSelectionRange"),this.Binder.bind(this,"pointsData","pointsDataRange")},goog.inherits(idr.components.MapBase,idr.components.ComponentBase),Object.defineProperty(idr.components.MapBase.prototype,"MapController",{get:function(){return this._mapController}}),idr.components.MapBase.prototype.getTypeName=function(){return"Map"},idr.components.MapBase.prototype.rawObject=function(){var rawObject=idr.components.ComponentBase.prototype.rawObject.call(this);return rawObject.padding=this.padding(),rawObject.height=this.height(),rawObject.currentLocationEnabled=this.currentLocationEnabled(),rawObject.copyValues=this.copyValues(),rawObject.popupTemplate=this.popupTemplate(),rawObject.dataSelectionRange=this.dataSelectionRange(),rawObject.pointsData=this.pointsData(),rawObject},idr.components.MapBase.prototype.componentDeleted=function(){this.Binder.unbind(this,"padding"),this.Binder.unbind(this,"currentLocationEnabled"),this.Binder.unbind(this,"dataSelectionRange"),this.Binder.unbind(this,"popupTemplate"),this.Binder.unbind(this,"pointsData"),idr.components.ComponentBase.prototype.componentDeleted.call(this)},idr.components.MapBase.prototype.padding=function(){return this._padding},idr.components.MapBase.prototype.setPadding=function(value){this._padding=value,this.triggerPropertyChanged("padding")},idr.components.MapBase.prototype.height=function(){return this._height},idr.components.MapBase.prototype.setHeight=function(value){this._height=value,this.triggerPropertyChanged("height")},idr.components.MapBase.prototype.currentLocationEnabled=function(){return this._currentLocationEnabled},idr.components.MapBase.prototype.setCurrentLocationEnabled=function(value){this._currentLocationEnabled=this.booleanValueOf(value),this.triggerPropertyChanged("currentLocationEnabled")},idr.components.MapBase.prototype.copyValues=function(){return this._copyValues},idr.components.MapBase.prototype.setCopyValues=function(value){this._copyValues=value,this.triggerPropertyChanged("copyValues")},idr.components.MapBase.prototype.dataSelectionRange=function(){return this._dataSelectionRange},idr.components.MapBase.prototype.setDataSelectionRange=function(dataSelectionRange){this._dataSelectionRange=dataSelectionRange,this.triggerPropertyChanged("dataSelectionRange")},idr.components.MapBase.prototype.popupTemplate=function(){return this._popupTemplate},idr.components.MapBase.prototype.setPopupTemplate=function(value){this._popupTemplate=value,this.triggerPropertyChanged("popupTemplate")},idr.components.MapBase.prototype.pointsData=function(){return this._pointsData},idr.components.MapBase.prototype.setPointsData=function(value){this._pointsData=value,this.triggerPropertyChanged("pointsData")},idr.components.MapBase.prototype.pointsDataRange=function(){return this._pointsDataRange},idr.components.MapBase.prototype.setPointsDataRange=function(value){this._pointsDataRange=value,this.triggerPropertyChanged("pointsDataRange")},idr.components.MapBase.prototype.contentResize=function(){return this._contentResize},idr.components.MapBase.prototype.setContentResize=function(value){this._contentResize=value,this.triggerPropertyChanged("contentResize")},idr.components.MapBase.prototype.initializeMapController=function(baseView){if(null===this._mapController){var that=this;this._mapController=new idr.components.MapController(baseView),this._mapController.setPopupTemplate(this._popupTemplate),this._mapController.initialize(function(){that._mapController.addOnPointSelectedHandler(function(event,data){that.notifyPointSelected(data)}),null!==that._pointsData&&""!==that._pointsData&&null!==that._pointsDataRange&&that._mapController.addOrUpdatePoints(that._pointsDataRange),that._mapController.showUserLocation(that.currentLocationEnabled())})}},idr.components.MapBase.prototype.pointSelected=function(){},idr.components.MapBase.prototype.notifyPointSelected=function(data){$(this).trigger("pointSelected",data)},idr.components.MapBase.prototype.addOnPointSelectedHandler=function(handler){$(this).on("pointSelected",handler)},idr.components.MapBase.prototype.removeOnPointSelectedHandler=function(handler){$(this).off("pointSelected",handler)};