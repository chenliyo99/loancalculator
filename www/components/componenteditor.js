/**
 * @license Copyright 2013 - 2014 Intel Corporation All Rights Reserved.
 *
 * The source code, information and material ("Material") contained herein is owned by Intel Corporation or its
 * suppliers or licensors, and title to such Material remains with Intel Corporation or its suppliers or
 * licensors. The Material contains proprietary information of Intel or its suppliers and licensors. The
 * Material is protected by worldwide copyright laws and treaty provisions. No part of the Material may be used,
 * copied, reproduced, modified, published, uploaded, posted, transmitted, distributed or disclosed in any way
 * without Intel's prior express written permission. No license under any patent, copyright or other intellectual
 * property rights in the Material is granted to or conferred upon you, either expressly, by implication,
 * inducement, estoppel or otherwise. Any license under such intellectual property rights must be express and
 * approved by Intel in writing.
 *
 * Unless otherwise agreed by Intel in writing, you may not remove or alter this notice or any other notice
 * embedded in Materials by Intel or Intel's suppliers or licensors in any way.
 */
goog.provide("idr.storyboard.ComponentEditor"),goog.provide("idr.component.ComponentBase"),goog.require("idr.commons.ToolbarTarget"),goog.require("idr.debug"),idr.storyboard.ComponentEditor=function(){},idr.storyboard.ComponentEditor.prototype.initializeEditor=function(storyboardEditor){this._storyboard=storyboardEditor,this._toolbarActions=new goog.structs.Map,this._toolbarData=[],this._propertiesEditorData=[],this._propertyEditorTitle="",this._toolbarFeedback={},this._eventsData={},this._actionsData={},this._isResizable=!1},Object.defineProperty(idr.storyboard.ComponentEditor.prototype,"Resizable",{get:function(){return this._isResizable},set:function(isResizable){this._isResizable=isResizable}}),idr.storyboard.ComponentEditor.prototype.view=function(){throw"Component.view() not implemented!"},idr.storyboard.ComponentEditor.prototype.childrenViews=function(){return this.Children.map(function(item){return item.view()})},idr.storyboard.ComponentEditor.prototype.getAddItemSection=function(sectionName){return void 0===sectionName&&(sectionName="default"),$('<div class="idr-child-add" data-section="'+sectionName+'"></div>')},idr.storyboard.ComponentEditor.prototype.markPropertiesEditorSection=function(markup){markup.addClass("idr-properties-editor")},idr.storyboard.ComponentEditor.prototype.toolbarData=function(){return this._toolbarData},idr.storyboard.ComponentEditor.prototype.propertiesEditorData=function(){return this._propertiesEditorData},idr.storyboard.ComponentEditor.prototype.propertyEditorTitle=function(){return this._propertyEditorTitle},idr.storyboard.ComponentEditor.prototype.addToolbarEntry=function(itemOptions){var validate=!0;void 0===itemOptions.action&&(itemOptions.action="NONE"),void 0===itemOptions.data&&(itemOptions.data=null);for(var i=0;i<this._toolbarData.length;i++)itemOptions.key===this._toolbarData[i].key&&(validate=!1);validate&&this._toolbarData.push({key:itemOptions.key,tooltip:itemOptions.tooltip,title:itemOptions.title,icon:itemOptions.icon,action:itemOptions.action,group:itemOptions.group,groupType:itemOptions.groupType,type:itemOptions.type,data:itemOptions.data}),itemOptions.currentValue&&(this._toolbarFeedback[itemOptions.key]=itemOptions.currentValue)},idr.storyboard.ComponentEditor.prototype.addToolbarEntries=function(toolbarEntries){var that=this;toolbarEntries.forEach(function(toolbarEntry){that.addToolbarEntry(toolbarEntry)})},idr.storyboard.ComponentEditor.prototype.addEventEntry=function(eventOptions){idr.debug.assert(void 0===this._eventsData[eventOptions.key],"Duplicated event key in component!"),this._eventsData[eventOptions.key]={key:eventOptions.key,title:eventOptions.title,isDefault:eventOptions.isDefault?eventOptions.isDefault:!1,customClass:eventOptions.customClass?eventOptions.customClass:""}},idr.storyboard.ComponentEditor.prototype.addEventEntries=function(eventEntries){var that=this;eventEntries.forEach(function(eventEntry){that.addEventEntry(eventEntry)})},idr.storyboard.ComponentEditor.prototype.addPropertiesEditorEntries=function(propertyEditorData){this._propertyEditorTitle=propertyEditorData.title;for(var properties=propertyEditorData.properties,i=0,len=properties.length;len>i;i++)this.addPropertyEditorEntry(properties[i])},idr.storyboard.ComponentEditor.prototype.addPropertyEditorEntry=function(itemOptions){var validate=!0;void 0===itemOptions.action&&(itemOptions.action="NONE"),void 0===itemOptions.data&&(itemOptions.data=null);for(var i=0,len=this._propertiesEditorData.length;len>i;i++)if(itemOptions.key===this._propertiesEditorData[i].key){validate=!1;break}validate&&this._propertiesEditorData.push({key:itemOptions.key,title:itemOptions.title,description:itemOptions.description,icon:itemOptions.icon,action:itemOptions.action,type:itemOptions.type,property:itemOptions.property,data:itemOptions.data,detail:itemOptions.detail,validContent:itemOptions.validContent})},idr.storyboard.ComponentEditor.prototype.eventsData=function(){return this._eventsData},idr.storyboard.ComponentEditor.prototype.getEventDataFromKey=function(eventKey){return this._eventsData[eventKey]},idr.storyboard.ComponentEditor.prototype.addActionEntry=function(actionOptions){idr.debug.assert(void 0===this._actionsData[actionOptions.key],"Duplicated action key in component!"),this._actionsData[actionOptions.key]={key:actionOptions.key,title:actionOptions.title,parameters:actionOptions.parameters,isDefault:actionOptions.isDefault?actionOptions.isDefault:!1,customClass:actionOptions.customClass?actionOptions.customClass:""}},idr.storyboard.ComponentEditor.prototype.addActionEntries=function(actionEntries){var that=this;actionEntries.forEach(function(actionEntry){that.addActionEntry(actionEntry)})},idr.storyboard.ComponentEditor.prototype.actionsData=function(){return this._actionsData},idr.storyboard.ComponentEditor.prototype.getActionDataFromKey=function(actionKey){return this._actionsData[actionKey]},idr.storyboard.ComponentEditor.prototype.markupForEventConnector=function(eventKey){return $('<div class=idr-event-connector data-key="'+eventKey+'"></div>')},idr.storyboard.ComponentEditor.prototype.markupForActionConnector=function(actionKey){return $('<div class=idr-action-connector data-key="'+actionKey+'"></div>')},idr.storyboard.ComponentEditor.prototype.getValueForToolbarEntry=function(){throw'Function "getValueForToolbarEntry" not implemented in component "'+this.getTypeName()+'"'},idr.storyboard.ComponentEditor.prototype.getValueForToolbarEntryEditor=function(component,key){var callbackName=this._toolbarFeedback[key],fn=component[callbackName];return fn instanceof Function?fn.call(component):!1},idr.storyboard.ComponentEditor.prototype.onChildrenAddedEditor=function(child){this._storyboard.onChildrenAdded(this,child)},idr.storyboard.ComponentEditor.prototype.onChildrenRemovedEditor=function(child){this._storyboard.onChildrenRemoved(this,child)},idr.storyboard.ComponentEditor.prototype.onChildrenReorderedEditor=function(childId,newIndex){this._storyboard.onChildrenReordered(this,childId,newIndex)},idr.storyboard.ComponentEditor.prototype.appendChildView=function(){throw'Function "appendChildView" not implemented by component "'+this.getTypeName()+'".'},idr.storyboard.ComponentEditor.prototype.viewAppended=function(){},idr.storyboard.ComponentEditor.prototype.allowsMultiChilds=function(){return!0},idr.storyboard.ComponentEditor.prototype.resizeOptions=function(){return null},idr.storyboard.ComponentEditor.prototype.onResize=function(){},idr.storyboard.ComponentEditor.prototype.onResizeStop=function(){},idr.storyboard.ComponentEditor.prototype.isDraggableAllowed=function(){return!0},idr.storyboard.ComponentEditor.prototype.eventConnectionAttached=function(){};